# ─── Monitor ─────────────────────────────────────────────────────────────
monitor=,preferred,auto,1

# ─── Exec on Start ──────────────────────────────────────────────────────
exec-once = swww init && swww img ~/Downloads/wall1.jpg
exec-once = waybar

# ─── Environment ────────────────────────────────────────────────────────
env = KITTY_ENABLE_WAYLAND=1

# ─── Input ──────────────────────────────────────────────────────────────
input {
  kb_layout = us
  follow_mouse = 1

  touchpad {
    natural_scroll = yes
  }
}

# ─── General ─────────────────────────────────────────────────────────────
general {
  gaps_in = 5
  gaps_out = 15
  border_size = 2
  col.active_border = rgba(89b4faee)
  col.inactive_border = rgba(1e1e2eff)
  layout = dwindle
}

# ─── Decorations ────────────────────────────────────────────────────────
decoration {
  # See https://wiki.hyprland.org/Configuring/Variables/ for more

  rounding = 25
  blur {
    enabled = true
    size = 7
    passes = 4
    new_optimizations = on
  }

  blurls = lockscreen
}

# ─── Animations ─────────────────────────────────────────────────────────
animations {
  enabled = true

  # --- Elegant Bezier Curves ---
  bezier = easeOutExpo, 0.16, 1, 0.3, 1
  bezier = easeInOutCubic, 0.64, 0.0, 0.35, 1.0
  bezier = gentleOvershoot, 0.3, 1.2, 0.5, 1
  bezier = ease, 0.25, 0.1, 0.25, 1.0 # Keep default if you need it

  # --- Elegant Animation Rules ---
  # Windows opening/closing/moving/resizing
  animation = windows, 1, 4, easeOutExpo, popin
  animation = windowsOut, 1, 4, easeOutExpo, popin
  # The `popin` is a group name. You can omit it or use a different one.
  # If you want a *very* subtle "snap" for windows settling:
  # animation = windows, 1, 2, gentleOvershoot, popin
  # animation = windowsOut, 1, 2, gentleOvershoot, popin


  # Active window border transition
  animation = border, 1, 3, easeOutExpo

  # Fade in/out for elements (e.g., notifications, some pop-ups)
  animation = fade, 1, 3, easeOutExpo

  # Workspace switching
  animation = workspaces, 1, 3, easeInOutCubic # Smooth start and end for slides
  # If you prefer a subtle "swipe" effect for workspaces, consider:
  # animation = specialWorkspace, 1, 4, easeOutExpo, slide # For scratchpads
}

# ─── Dwindle ────────────────────────────────────────────────────────────
dwindle {
  pseudotile = true
  preserve_split = true
}

# ─── Keybinds ───────────────────────────────────────────────────────────
# Apps
bind = SUPER, Return, exec, kitty
bind = SUPER, T, exec, thunar
bind = SUPER, D, exec, rofi -modi drun,run -show drun -theme ~/.config/rofi/themes/woofi.rasi

# Window management
bind = SUPER, Q, killactive
bind = SUPER, F, fullscreen
bind = SUPER, V, togglefloating
bind = SUPER, Space, togglefloating
bind = SUPER, Escape, exit
bind = SUPER, S, exec, grim -g "$(slurp)" ~/Pictures/screenshot-$(date +%s).png

# Workspace switching
bind = SUPER, 1, workspace, 1
bind = SUPER, 2, workspace, 2
bind = SUPER, 3, workspace, 3
bind = SUPER, 4, workspace, 4
bind = SUPER, 5, workspace, 5
bind = SUPER, 6, workspace, 6
bind = SUPER, 7, workspace, 7
bind = SUPER, 8, workspace, 8
bind = SUPER, 9, workspace, 9
bind = SUPER, 0, workspace, 10

# Move focused window to workspace
bind = SUPER SHIFT, 1, movetoworkspace, 1
bind = SUPER SHIFT, 2, movetoworkspace, 2
bind = SUPER SHIFT, 3, movetoworkspace, 3
bind = SUPER SHIFT, 4, movetoworkspace, 4
bind = SUPER SHIFT, 5, movetoworkspace, 5
bind = SUPER SHIFT, 6, movetoworkspace, 6
bind = SUPER SHIFT, 7, movetoworkspace, 7
bind = SUPER SHIFT, 8, movetoworkspace, 8
bind = SUPER SHIFT, 9, movetoworkspace, 9
bind = SUPER SHIFT, 0, movetoworkspace, 10

# Mouse window actions
bindm = SUPER, mouse:272, movewindow
bindm = SUPER, mouse:273, resizewindow

# ─── Toggle Blur / Shadows / Animations ──────────────────────────────────
bind = SUPER, B, exec, hyprctl keyword decoration:blur:enabled false
bind = SUPER, X, exec, hyprctl keyword decoration:drop_shadow false
bind = SUPER, A, exec, hyprctl keyword animations:enabled false

# ─── Window Rules ───────────────────────────────────────────────────────
# Kitty
windowrulev2 = opacity 0.85 0.80,class:^(kitty)$

# Firefox
windowrulev2 = opacity 0.9 0.75,class:^(firefox)$

# VS Code
windowrulev2 = opacity 0.9 0.75,class:^(Code)$
windowrulev2 = float,class:^(Code)$
windowrulev2 = rounding 10,class:^(Code)$

# Thunar
windowrulev2 = opacity 0.9 0.75,class:^(thunar)$
windowrulev2 = rounding 10,class:^(thunar)$
blurls = waybar, thunar

# Spotify
windowrulev2 = opacity 0.7 0.8,class:^(Spotify)$

# Discord
windowrulev2 = opacity 0.75 0.75,class:^(discord)$
windowrulev2 = rounding 10,class:^(discord)$

# ─── Layer & Blur Rules ─────────────────────────────────────────────────
blurls = waybar
layerrule = blur, waybar
layerrule = ignorealpha 0.6, waybar

# ─── Preset Modes ─────────────────────────────────────────────

# SUPER+P = Performance Mode (No blur, no shadows, no animations)
bind = SUPER, P, exec, \
  hyprctl keyword decoration:blur:enabled false && \
  hyprctl keyword decoration:drop_shadow false && \
  hyprctl keyword animations:enabled true && \
  notify-send " Performance Mode Activated"

# SUPER+G = Glassy Mode (Enable blur, shadows, and animations)
bind = SUPER, G, exec, \
  hyprctl keyword decoration:blur:enabled true && \
  hyprctl keyword decoration:drop_shadow true && \
  hyprctl keyword animations:enabled true && \
  notify-send " Glassy Mode Activated"
